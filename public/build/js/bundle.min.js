function darkMode(){const t=window.matchMedia("(prefers-color-scheme: dark)");t.matches?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),t.addEventListener("change",function(){t.matches?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")});document.querySelector(".dark-mode-boton").addEventListener("click",function(){document.body.classList.toggle("dark-mode")})}function eventListeners(){document.querySelector(".mobile-menu").addEventListener("click",navegacionResponsive);document.querySelectorAll('input[name="contacto[contacto]"]').forEach(t=>t.addEventListener("click",mostrarMetodosContacto))}function navegacionResponsive(){const t=document.querySelector(".navegacion");t.classList.contains("mostrar")?t.classList.remove("mostrar"):t.classList.add("mostrar")}function mostrarMetodosContacto(t){const e=document.querySelector("#contacto");"telefono"===t.target.value?e.innerHTML='\n            <label for="telefono">Numero telefono</label>\n            <input type="tel" placeholder="Tu Telefono" id="telefono" name="contacto[telefono] required">\n\n\n            <p>Elija la fecha y la hora para la llamada</p>\n\n            <label for="fecha">Fecha</label>\n            <input type="date"  id="fecha" name="contacto[fecha]" required>\n\n            <label for="hora">Hora</label>\n            <input type="time"  id="hora" min="09:00" max="18:00" name="contacto[hora]" required>\n                \n        ':e.innerHTML='\n            <label for="email">E-mail</label>\n            <input type="email" placeholder="Tu Email" id="email" name="contacto[email]" required >\n        '}function inicializarCarrito(){const t=document.getElementById("cantidad-carrito");let e=[];try{const t=JSON.parse(localStorage.getItem("carrito"));Array.isArray(t)&&(e=t)}catch(t){console.warn("Carrito corrupto, reiniciando"),localStorage.removeItem("carrito")}t&&(t.textContent=e.length);document.querySelectorAll("a.agregar-carrito").forEach(function(n){n.addEventListener("click",function(n){n.preventDefault();const o=this.dataset.id,a=this.dataset.nombre,r=this.dataset.precio,i=this.dataset.imagen,c=this.dataset.tipo;if(!o||!a)return void console.warn("Faltan datos del producto");e.some(t=>t.id===o)||(e.push({id:o,nombre:a,precio:r,imagen:i,tipo:c,cantidad:1}),localStorage.setItem("carrito",JSON.stringify(e))),t&&(t.textContent=e.length),window.location.href="/"})})}function mostrarCarrito(){const t=document.getElementById("lista-carrito"),e=document.getElementById("total"),n=document.getElementById("vaciar-carrito");if(!t||!e)return;let o=JSON.parse(localStorage.getItem("carrito"))||[];const a=(t,e)=>"cuadro"===e||"No Aplica"===e?0:t>=6?.15:t>=3?.1:t>=2?.05:0,r=()=>{const t={};return o.forEach(e=>{"cuadro"!==e.tipo&&"No Aplica"!==e.tipo&&(t[e.tipo]=(t[e.tipo]||0)+e.cantidad)}),t},i=()=>{if(t.innerHTML="",0===o.length)return t.innerHTML="<tr><td colspan='7'>El carrito está vacío.</td></tr>",void(e.textContent="");const n=r();o.forEach((e,o)=>{const r=a(n[e.tipo]||0,e.tipo),i=e.precio*e.cantidad,c=i*r,l=i-c,s=document.createElement("tr");s.innerHTML=`\n                <td><img src="${e.imagen}" alt="${e.nombre}" style="width: 80px;"></td>\n                <td>${e.nombre}</td>\n                <td>$${e.precio.toLocaleString()}</td>\n                <td><input type="number" value="${e.cantidad}" min="1" data-index="${o}" class="input-cantidad" style="width: 60px;"></td>\n                <td class="celda-total">$${l.toLocaleString()}</td>\n                <td>${r?`-${100*r}% ($${c.toLocaleString()})`:"-"}</td>\n                <td><button data-index="${o}" class="boton-rojo-block eliminar">X</button></td>\n            `,t.appendChild(s)}),(()=>{const t=r();let n=0,i=0;o.forEach(e=>{const o=a(t[e.tipo]||0,e.tipo);n+=e.precio*e.cantidad,i+=e.precio*e.cantidad*o});const c=n-i;e.textContent=`Total: $${c.toLocaleString()} COP`,localStorage.setItem("carrito",JSON.stringify(o)),localStorage.setItem("totalConDescuento",c.toFixed(0)),localStorage.setItem("descuentoAplicado",i.toFixed(0))})()};t.addEventListener("change",t=>{if(t.target.classList.contains("input-cantidad")){const e=t.target.dataset.index,n=parseInt(t.target.value);n>0&&(o[e].cantidad=n,localStorage.setItem("carrito",JSON.stringify(o)),i())}}),t.addEventListener("click",t=>{t.target.classList.contains("eliminar")&&(o.splice(t.target.dataset.index,1),localStorage.setItem("carrito",JSON.stringify(o)),i())}),n?.addEventListener("click",()=>{localStorage.removeItem("carrito"),o=[],i(),location.reload()}),i()}function carritoPedido(){const t=document.getElementById("productos-confirmacion"),e=document.getElementById("productos-carrito"),n=localStorage.getItem("totalConDescuento"),o=localStorage.getItem("descuentoAplicado");if(!(e&&t&&n&&o))return;const a=JSON.parse(localStorage.getItem("carrito"))||[];if(0===a.length)return void(t.innerHTML="<p>No hay productos en el carrito.</p>");let r='\n        <table class="propiedades">\n            <thead>\n                <tr>\n                    <th>Imagen</th>\n                    <th>Nombre</th>\n                    <th>Cantidad</th>\n                    <th>Total</th>\n                </tr>\n            </thead>\n            <tbody>\n    ',i=0;a.forEach(t=>{const e=t.precio*t.cantidad;i+=e,r+=`\n            <tr>\n                <td><img src="${t.imagen}" style="width: 80px;"></td>\n                <td>${t.nombre}</td>\n                <td>${t.cantidad}</td>\n                <td>$${e.toLocaleString()}</td>\n            </tr>\n        `}),r+=`\n        </tbody>\n        <tfoot>\n            <tr>\n                <td colspan="3" style="text-align:right;"><strong>Subtotal:</strong></td>\n                <td>$${i.toLocaleString()}</td>\n            </tr>\n            <tr>\n                <td colspan="3" style="text-align:right;"><strong>Descuento aplicado:</strong></td>\n                <td>-$${parseInt(o).toLocaleString()}</td>\n            </tr>\n            <tr>\n                <td colspan="3" style="text-align:right;"><strong>Total a pagar:</strong></td>\n                <td><strong>$${parseInt(n).toLocaleString()}</strong></td>\n            </tr>\n        </tfoot>\n        </table>\n    `,t.innerHTML=r,e.value=JSON.stringify(a);const c=document.getElementById("input-total"),l=document.getElementById("input-descuento");c&&(c.value=n),l&&(l.value=o)}function redirigirAlCarrito(){const t=document.querySelector(".carrito-boton");t&&t.addEventListener("click",function(t){t.preventDefault(),window.location.href="/carrito"})}document.addEventListener("DOMContentLoaded",function(){redirigirAlCarrito(),inicializarCarrito(),eventListeners(),darkMode(),mostrarCarrito(),carritoPedido()}),function(t,e){function n(t,e){return typeof t===e}function o(t){var e=d.className,n=l._config.classPrefix||"";if(A&&(e=e.baseVal),l._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");e=e.replace(o,"$1"+n+"js$2")}l._config.enableClasses&&(e+=" "+n+t.join(" "+n),A?d.className.baseVal=e:d.className=e)}function a(t,e){if("object"==typeof t)for(var n in t)s(t,n)&&a(n,t[n]);else{var r=(t=t.toLowerCase()).split("."),i=l[r[0]];if(2==r.length&&(i=i[r[1]]),void 0!==i)return l;e="function"==typeof e?e():e,1==r.length?l[r[0]]=e:(!l[r[0]]||l[r[0]]instanceof Boolean||(l[r[0]]=new Boolean(l[r[0]])),l[r[0]][r[1]]=e),o([(e&&0!=e?"":"no-")+r.join("-")]),l._trigger(t,e)}return l}var r=[],i=[],c={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var n=this;setTimeout(function(){e(n[t])},0)},addTest:function(t,e,n){i.push({name:t,fn:e,options:n})},addAsyncTest:function(t){i.push({name:null,fn:t})}},l=function(){};l.prototype=c,l=new l;var s,d=e.documentElement,A="svg"===d.nodeName.toLowerCase();!function(){var t={}.hasOwnProperty;s=n(t,"undefined")||n(t.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(e,n){return t.call(e,n)}}(),c._l={},c.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),l.hasOwnProperty(t)&&setTimeout(function(){l._trigger(t,l[t])},0)},c._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout(function(){var t;for(t=0;t<n.length;t++)(0,n[t])(e)},0),delete this._l[t]}},l._q.push(function(){c.addTest=a}),l.addAsyncTest(function(){function t(t,e,n){function o(e){var o=!(!e||"load"!==e.type)&&1==r.width;a(t,"webp"===t&&o?new Boolean(o):o),n&&n(e)}var r=new Image;r.onerror=o,r.onload=o,r.src=e}var e=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=e.shift();t(n.name,n.uri,function(n){if(n&&"load"===n.type)for(var o=0;o<e.length;o++)t(e[o].name,e[o].uri)})}),function(){var t,e,o,a,c,s;for(var d in i)if(i.hasOwnProperty(d)){if(t=[],(e=i[d]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(o=0;o<e.options.aliases.length;o++)t.push(e.options.aliases[o].toLowerCase());for(a=n(e.fn,"function")?e.fn():e.fn,c=0;c<t.length;c++)1===(s=t[c].split(".")).length?l[s[0]]=a:(!l[s[0]]||l[s[0]]instanceof Boolean||(l[s[0]]=new Boolean(l[s[0]])),l[s[0]][s[1]]=a),r.push((a?"":"no-")+s.join("-"))}}(),o(r),delete c.addTest,delete c.addAsyncTest;for(var u=0;u<l._q.length;u++)l._q[u]();t.Modernizr=l}(window,document);
//# sourceMappingURL=bundle.js.map
